<app-container-with-margins [width]="tile.width" [mt]="tile.mt" [mb]="tile.mb">
  <app-row-width-adjust [width]="tile.width">
    <div
      *ngIf="images.length > 0; else noImages"
      [id]="'book' + tile.order"
      class="carousel carousel-dark slide position-relative col-12"
      data-bs-interval="false"
      data-ride="carousel"
    >
      <div class="row">
        <div class="col g-0 text-center">
          <button
            class="btn btn-white carousel-control-prev position-relative w-100 h-100"
            type="button"
            [attr.data-bs-target]="'#book' + tile.order"
            data-bs-slide="prev"
          >
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
        </div>

        <!-- Slideshow -->
        <div class="col-9 g-0">
          <div
            class="carousel-inner"
            [ngClass]="{ customShadow: tile.shadow, border: !tile.shadow }"
          >
            <div
              *ngFor="let image of images; let pg = index"
              class="carousel-item position-relative"
              [id]="'book' + tile.order + 'page' + pg"
            >
              <app-image class="d-block w-100" [image]="image"> </app-image>
            </div>
          </div>
        </div>

        <div class="col g-0 text-center">
          <button
            class="btn btn-white carousel-control-next position-relative w-100 h-100"
            type="button"
            [attr.data-bs-target]="'#book' + tile.order"
            data-bs-slide="next"
          >
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>

        <!-- Page buttons -->
        <div
          class="col-10 offset-1 px-4 text-center"
          [ngClass]="{ 'mt-4': tile.shadow }"
        >
          <div
            class="carousel-indicators position-relative m-0 text-center w-100 d-inline"
          >
            <button
              *ngFor="let image of images; let pg = index"
              class="slideButton px-1 mb-4"
              style="text-indent: 0"
              type="btn"
              [id]="'book' + tile.order + 'btn' + pg"
              [attr.data-bs-target]="'#book' + tile.order"
              [attr.data-bs-slide-to]="pg"
              [attr.aria-label]="'Slide ' + (pg + 1)"
            >
              <p class="my-1">&nbsp;</p>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Subtitle -->
    <div *ngIf="tile.text" class="col-12 mt-3">
      <p
        class="text-center mb-0 {{ tile.textClass }}"
        [innerText]="tile.text"
      ></p>
    </div>

    <ng-template #noImages>
      <h2 class="text-center {{ tile.textClass }}">No images</h2>
    </ng-template>
  </app-row-width-adjust>
</app-container-with-margins>
