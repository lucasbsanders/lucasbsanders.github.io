<div
  class="w-100 text-center position-relative"
  [ngClass]="{ padBox: image.shadow, imgBox: image.link }"
  appTrackViewPort
  (isAtTop)="loadImageOnScroll($event)"
>
  <img
    [src]="image.s3Key | keyToS3"
    [alt]="image.s3Key | filename"
    [class]="className"
    [ngClass]="{
      customShadow: image.shadow,
      invisible: loading,
      scaleImg: scaleImageOnHover
    }"
    [ngStyle]="{
      width: image.icon && !isSmallScreen ? '12rem' : '100%',
      cursor: image.link ? 'pointer' : 'auto'
    }"
  />

  <!-- Link/URL overlay: -->
  <div
    class="position-absolute w-100 h-100 top-0 left-0 right-0 bottom-0 p-3 align-items-center justify-content-center d-flex overlayContainer overlayBox border border-primary"
    style="cursor: pointer"
    *ngIf="showOverlay"
    (click)="goToImageRoute(image.link!)"
  >
    <a *ngIf="image.link && !image.url" class="montserrat-bold p-4 navLink">
      {{ image.link }}
    </a>

    <a
      *ngIf="image.url"
      class="montserrat-bold p-4 navLink"
      [href]="image.url"
      target="_blank"
      rel="noopener noreferrer"
    >
      {{ image.link ? image.link : image.url }}
    </a>
  </div>

  <!-- Loading overlay: -->
  <div class="position-absolute bottom-0 left-0 pe-2 w-100" [hidden]="!loading">
    <div class="row w-100 h-100 text-center align-items-center">
      <div class="col-12">
        <div class="spinner-border text-secondary" role="status">
          <span class="visually-hidden">Loading Image...</span>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="image.subtitle" class="w-100 text-center mt-4">
  <p [innerText]="image.subtitle"></p>
</div>
